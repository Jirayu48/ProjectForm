<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --bg-color: #111827;
      --card-bg: rgba(31, 41, 55, 0.9);
      --text-color: #f9fafb;
      --accent-color: #10b981;      /* ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß */
      --accent-hover: #34d399;
      --input-bg: #1f2937;
      --error-color: #f87171;
    }
    body { background-color: var(--bg-color); color: var(--text-color); }
    .form-card { background-color: var(--card-bg); }
    .input-field {
      background-color: var(--input-bg);
      color: var(--text-color);
      border: 1px solid #374151;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    .input-field:focus {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 2px var(--accent-hover);
      outline: none;
    }
    .btn-accent {
      background-color: var(--accent-color);
      transition: background-color 0.2s;
    }
    .btn-accent:hover {
      background-color: var(--accent-hover);
    }
    .error-text { color: var(--error-color); font-size: 0.875rem; }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center px-4">

  <form id="healthForm" class="form-card p-8 rounded-xl shadow-lg w-full max-w-md space-y-6">
    <h2 class="text-2xl font-bold text-center">ü©∫ ‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h2>

    <div>
      <label class="block mb-1">‡∏≠‡∏≤‡∏¢‡∏∏</label>
      <input type="number" id="age" class="input-field w-full p-2 rounded" min="15" max="60" required>
      <span id="ageError" class="error-text"></span>
    </div>

    <div>
      <label class="block mb-1">‡πÄ‡∏û‡∏®</label>
      <div class="flex gap-4">
        <label><input type="radio" name="gender" value="‡∏ä‡∏≤‡∏¢" required> ‡∏ä‡∏≤‡∏¢</label>
        <label><input type="radio" name="gender" value="‡∏´‡∏ç‡∏¥‡∏á"> ‡∏´‡∏ç‡∏¥‡∏á</label>
      </div>
    </div>

    <div>
      <label class="block mb-1">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)</label>
      <input type="number" id="weight" class="input-field w-full p-2 rounded" min="1" required>
      <span id="weightError" class="error-text"></span>
    </div>

    <div>
      <label class="block mb-1">‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)</label>
      <input type="number" id="height" class="input-field w-full p-2 rounded" min="1" required>
      <span id="heightError" class="error-text"></span>
    </div>

    <div>
      <label><input type="checkbox" id="hasDisease"> ‡∏°‡∏µ‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</label>
    </div>

    <div id="diseaseDetails" class="hidden">
      <textarea id="diseaseText" class="input-field w-full p-2 rounded" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏£‡∏Ñ"></textarea>
      <span id="diseaseError" class="error-text"></span>
    </div>

    <button type="submit" class="btn-accent text-white font-semibold w-full py-2 rounded">‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°</button>
  </form>

  <!-- Modal -->
  <div id="bmiModal" class="hidden fixed inset-0 bg-black/60 flex items-center justify-center">
    <div class="form-card p-6 rounded-lg shadow-lg text-center w-80">
      <h3 class="text-lg font-bold text-green-400 mb-4">üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</h3>
      <p id="bmiResult"></p>
      <button id="closeBmiModal" class="btn-accent text-white px-4 py-2 rounded mt-4">‡∏õ‡∏¥‡∏î</button>
    </div>
  </div>

<script>
  const form = document.getElementById('healthForm');
  const age = document.getElementById('age');
  const weight = document.getElementById('weight');
  const height = document.getElementById('height');
  const hasDisease = document.getElementById('hasDisease');
  const diseaseDetails = document.getElementById('diseaseDetails');
  const diseaseText = document.getElementById('diseaseText');

  const ageError = document.getElementById('ageError');
  const weightError = document.getElementById('weightError');
  const heightError = document.getElementById('heightError');
  const diseaseError = document.getElementById('diseaseError');

  const bmiModal = document.getElementById('bmiModal');
  const bmiResult = document.getElementById('bmiResult');
  const closeBmiModal = document.getElementById('closeBmiModal');

  hasDisease.addEventListener('change', () => {
    diseaseDetails.classList.toggle('hidden', !hasDisease.checked);
  });

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    let isValid = true;

    ageError.textContent = '';
    weightError.textContent = '';
    heightError.textContent = '';
    diseaseError.textContent = '';

    if (age.value < 15 || age.value > 60) {
      ageError.textContent = '‡∏≠‡∏≤‡∏¢‡∏∏‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 15-60 ‡∏õ‡∏µ';
      isValid = false;
    }
    if (weight.value <= 0) {
      weightError.textContent = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å';
      isValid = false;
    }
    if (height.value <= 0) {
      heightError.textContent = '‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ö‡∏ß‡∏Å';
      isValid = false;
    }
    if (hasDisease.checked && diseaseText.value.trim() === '') {
      diseaseError.textContent = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÇ‡∏£‡∏Ñ';
      isValid = false;
    }

    if (isValid) {
      const bmi = (weight.value / ((height.value / 100) ** 2)).toFixed(2);
      let category = '';
      if (bmi < 18.5) category = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢';
      else if (bmi < 25) category = '‡∏õ‡∏Å‡∏ï‡∏¥';
      else if (bmi < 30) category = '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô';
      else category = '‡∏≠‡πâ‡∏ß‡∏ô';

      bmiResult.textContent = `BMI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: ${bmi} (${category})`;
      bmiModal.classList.remove('hidden');
    }
  });

  closeBmiModal.addEventListener('click', () => bmiModal.classList.add('hidden'));
  bmiModal.addEventListener('click', (e) => { if (e.target === bmiModal) bmiModal.classList.add('hidden'); });
</script>
</body>
</html>
